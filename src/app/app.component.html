<article class="table-header">
  <button class="button-add-row button" mat-button (click)="addRow()">Add Row</button>
</article>
<table mat-table matSort matSortActive="created" matSortDisableClear matSortDirection="asc" [dataSource]="dataSource">
  <ng-container matColumnDef="name">
    <th class="header" mat-header-cell *matHeaderCellDef mat-sort-header>
      <mat-form-field class="filter" floatLabel="never">
        <mat-label>Name</mat-label>
        <input matInput [formControl]="nameFilter">
      </mat-form-field>
    </th>
    <td mat-cell *matCellDef="let person"> 
      <ng-container *ngIf="!person.isEdit">
        {{person.name}}
      </ng-container>
      <ng-container *ngIf="person.isEdit">
        <input [(ngModel)]="person.name" mat-input value="{{person.name}}">
      </ng-container>
    </td>
  </ng-container>

  <ng-container matColumnDef="age">
    <th class="header" mat-header-cell *matHeaderCellDef mat-sort-header>
      <mat-form-field class="filter" floatLabel="never">
        <mat-label>Age</mat-label>
        <input matInput [formControl]="ageFilter">
      </mat-form-field>
    </th>
    <td mat-cell *matCellDef="let person"> 
      <ng-container *ngIf="!person.isEdit">
        {{person.age}}
      </ng-container>
      <ng-container *ngIf="person.isEdit">
        <input [(ngModel)]="person.age" mat-input value="{{person.age}}">
      </ng-container>
    </td>
  </ng-container>

  <ng-container matColumnDef="phone">
    <th class="header" mat-header-cell *matHeaderCellDef mat-sort-header>
      <mat-form-field class="filter" floatLabel="never">
        <mat-label>Phone No.</mat-label>
        <input matInput [formControl]="phoneFilter">
      </mat-form-field>
    </th>
    <td mat-cell *matCellDef="let person"> 
      <ng-container *ngIf="!person.isEdit">
        {{person.phone}}
      </ng-container>
      <ng-container *ngIf="person.isEdit">
        <input [(ngModel)]="person.phone" mat-input value="{{person.phone}}">
      </ng-container>
    </td>
  </ng-container>

  <ng-container matColumnDef="newsLetter">
    <th class="header" mat-sort-header mat-header-cell *matHeaderCellDef>
      <mat-form-field class="filter" floatLabel="never">
        <mat-label>NewsLetter</mat-label>
        <input matInput [formControl]="newsLetterFilter">
      </mat-form-field>
    </th>
    <td mat-cell *matCellDef="let person">
      <ng-container *ngIf="!person.isEdit">
        {{person.newsLetter}}
      </ng-container>
      <ng-container *ngIf="person.isEdit">
        <input [(ngModel)]="person.newsLetter" type="checkbox" mat-input value="{{person.newsLetter}}">
      </ng-container>
    </td>
  </ng-container>

  <ng-container matColumnDef="gender">
    <th class="header" mat-sort-header mat-header-cell *matHeaderCellDef>
      <mat-form-field class="filter" floatLabel="never">
        <mat-label>Gender</mat-label>
        <input matInput [formControl]="genderFilter">
      </mat-form-field>
    </th>
    <td mat-cell *matCellDef="let person">
      <ng-container *ngIf="!person.isEdit">
        {{person.gender}}
      </ng-container>
      <ng-container *ngIf="person.isEdit">
        <input [(ngModel)]="person.gender" type="radio" name="gender" mat-input value="M">Male
        <input [(ngModel)]="person.gender" type="radio" name="gender" mat-input value="F">Female
      </ng-container>
    </td>
  </ng-container>
  <ng-container matColumnDef="action">
    <th class="header" mat-header-cell *matHeaderCellDef>
      Actions
    </th>
    <td mat-cell *matCellDef="let person">
      <ng-container *ngIf="!person.isEdit">
        <button mat-button class="button-remove button" (click)="removeRow(person.phone)">Delete</button>
        <button class="button" (click)="person.isEdit = !person.isEdit">Edit</button>
      </ng-container>
      <ng-container *ngIf="person.isEdit">
        <button class="button" (click)="addPerson(person)">Done</button>
      </ng-container>
    </td>
  </ng-container>
  <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
  <tr mat-row 
    *matRowDef="let person; columns: columnsToDisplay"></tr>
</table>
<mat-paginator [pageSizeOptions]="[5, 10, 20]"
                 showFirstLastButtons 
                 aria-label="Select page of periodic elements">
</mat-paginator>